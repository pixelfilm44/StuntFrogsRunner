# Space Transition Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SPACE TRANSITION FLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START GAME (Score 0)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SUNNY WEATHER         â”‚
â”‚   Score: 0-600         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NIGHT WEATHER         â”‚
â”‚   Score: 600-1200      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   RAIN WEATHER          â”‚
â”‚   Score: 1200-1800     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WINTER WEATHER        â”‚
â”‚   Score: 1800-2400     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DESERT WEATHER        â”‚
â”‚   Score: 2400-2900     â”‚
â”‚   â€¢ Sand pads           â”‚
â”‚   â€¢ Cacti obstacles     â”‚
â”‚   â€¢ Instant death water â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Score reaches 2,900
           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ LAUNCH PAD   â”‚ â—„â”€â”€â”€ Spawns centered in river
     â”‚   APPEARS    â”‚       Only ONE launch pad spawns
     â”‚   ğŸš€         â”‚       No more pads spawn after this
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Player MUST land on launch pad
            â”‚ (Missing it = Game Over in race mode)
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LAUNCH        â”‚
    â”‚ SEQUENCE:     â”‚
    â”‚ 1. Sparkles   â”‚
    â”‚ 2. Frog spins â”‚
    â”‚ 3. Fade black â”‚
    â”‚ 4. â†’ SPACE    â”‚
    â”‚ 5. Fade in    â”‚
    â”‚ 6. "SPACE" msgâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SPACE WEATHER         â”‚ â—„â”€â”€â”€ Launch pad disappears!
â”‚   Score: 3000-25000    â”‚       Normal space pads spawn
â”‚   â€¢ Star pads           â”‚
â”‚   â€¢ Snakes appear       â”‚
â”‚   â€¢ Floating in space   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ Score reaches 25,000
           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  WARP PAD    â”‚ â—„â”€â”€â”€ Spawns centered in river
     â”‚   APPEARS    â”‚       Only ONE warp pad spawns
     â”‚   ğŸŒ€         â”‚       No more pads spawn after this
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Player MUST land on warp pad
            â”‚ (This is the ONLY way to leave space!)
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ WARP          â”‚
    â”‚ SEQUENCE:     â”‚
    â”‚ 1. Sparkles   â”‚
    â”‚ 2. Pad spins  â”‚
    â”‚ 3. Fade black â”‚
    â”‚ 4. â†’ DAY      â”‚
    â”‚ 5. Clear all  â”‚
    â”‚ 6. Fade in    â”‚
    â”‚ 7. "BACK!" msgâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BACK TO SUNNY         â”‚ â—„â”€â”€â”€ Warp pad disappears!
â”‚   Score: Preserved     â”‚       All entities cleared
â”‚   â€¢ Fresh start         â”‚       New pads spawn
â”‚   â€¢ Same buffs/health   â”‚       Can re-enter space!
â”‚   â€¢ Continue playing    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ If player survives to 2,900 again...
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                 â”‚
                                                 â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚ LAUNCH PAD   â”‚
                                        â”‚ REAPPEARS!   â”‚
                                        â”‚ (Cycle loop) â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Behaviors

### ğŸš€ Launch Pad (Desert â†’ Space)

**Spawn Conditions:**
- `currentWeather == .desert`
- `score >= 2900`
- `!hasSpawnedLaunchPad`

**Behavior:**
- âœ… Appears centered in river
- âœ… No more pads spawn after it appears
- âœ… Player must land on it
- âš ï¸  Missing it = Game Over (race mode) or continue (endless mode)
- âœ… Disappears after successful use
- âœ… Triggers space transition

**After Use:**
- Weather â†’ Space
- Score â†’ 3000+ (preserved)
- Launch pad removed
- Can reappear if player warps back and reaches 2,900 again

---

### ğŸŒ€ Warp Pad (Space â†’ Day)

**Spawn Conditions:**
- `currentWeather == .space`
- `score >= 25000`
- `!hasSpawnedWarpPad`

**Behavior:**
- âœ… Appears centered in river
- âœ… No more pads spawn after it appears
- âœ… Player must land on it
- âœ… This is the ONLY way to exit space
- âœ… Disappears after successful use
- âœ… Triggers day reset transition

**After Use:**
- Weather â†’ Sunny
- Score â†’ Preserved
- All entities cleared (enemies, coins, etc.)
- Fresh pads spawned
- Warp pad removed
- Can reappear if player reaches space again at 25,000

---

## State Management

```
Game Start
    â†“
hasSpawnedLaunchPad = false
hasHitLaunchPad = false
hasSpawnedWarpPad = false
hasHitWarpPad = false
    â†“
Desert Phase (score 2900)
    â†“
hasSpawnedLaunchPad = true â—„â”€â”€â”€ Launch pad spawns
    â†“
Player lands on launch pad
    â†“
hasHitLaunchPad = true â—„â”€â”€â”€ Triggers transition
    â†“
Space transition
    â†“
hasSpawnedLaunchPad = false â—„â”€â”€â”€ Reset for future use
hasHitLaunchPad = false
    â†“
Space Phase (score 25000)
    â†“
hasSpawnedWarpPad = true â—„â”€â”€â”€ Warp pad spawns
    â†“
Player lands on warp pad
    â†“
hasHitWarpPad = true â—„â”€â”€â”€ Triggers transition
    â†“
Day transition
    â†“
hasSpawnedWarpPad = false â—„â”€â”€â”€ Reset for future use
hasHitWarpPad = false
hasSpawnedLaunchPad = false â—„â”€â”€â”€ Allow launch pad again
hasHitLaunchPad = false
    â†“
Back to sunny, cycle can repeat!
```

---

## Comparison: Launch Pad vs Warp Pad

| Feature              | Launch Pad ğŸš€          | Warp Pad ğŸŒ€            |
|----------------------|------------------------|------------------------|
| **Weather**          | Desert                | Space                  |
| **Spawn Score**      | 2,900                 | 25,000                 |
| **Location**         | Center of river       | Center of river        |
| **Required?**        | Yes (or game over*)   | Yes (only exit)        |
| **Pad Spawning**     | Stops after spawn     | Stops after spawn      |
| **After Use**        | â†’ Space weather       | â†’ Sunny weather        |
| **Entities**         | Preserved             | All cleared            |
| **Score**            | Preserved             | Preserved              |
| **Buffs/Health**     | Preserved             | Preserved              |
| **Visual Effect**    | Frog shoots up        | Pad spins fast         |
| **Disappears?**      | Yes                   | Yes                    |
| **Can Reappear?**    | Yes (after warp back) | Yes (if back in space) |

*In endless mode, missing launch pad may allow continue; in race mode it's game over

---

## Example Run Timeline

```
Score 0      â”‚ ğŸŒ¤ï¸  START - Sunny weather
Score 600    â”‚ ğŸŒ™  Night begins
Score 1200   â”‚ ğŸŒ§ï¸  Rain begins
Score 1800   â”‚ â„ï¸  Winter begins
Score 2400   â”‚ ğŸœï¸  Desert begins
Score 2900   â”‚ ğŸš€  LAUNCH PAD appears â—„â”€â”€â”€ Critical!
             â”‚     (Player must land)
Score 3000   â”‚ ğŸŒŒ  SPACE begins
             â”‚     Normal space gameplay...
Score 10000  â”‚ ğŸŒŒ  Still in space...
Score 20000  â”‚ ğŸŒŒ  Still in space...
Score 25000  â”‚ ğŸŒ€  WARP PAD appears â—„â”€â”€â”€ Critical!
             â”‚     (Player must land)
Score 25000  â”‚ â˜€ï¸  BACK TO SUNNY!
             â”‚     All entities cleared
             â”‚     Fresh start with same score
Score 26000  â”‚ â˜€ï¸  Continue playing...
Score 27000  â”‚ ğŸŒ™  Night again...
             â”‚     ... cycle continues ...
Score 28500  â”‚ ğŸœï¸  Back in desert...
Score 28900  â”‚ ğŸš€  LAUNCH PAD REAPPEARS!
             â”‚     Can enter space again!
```

This creates an **infinite roguelike loop** where skilled players can keep cycling through all weather zones!

